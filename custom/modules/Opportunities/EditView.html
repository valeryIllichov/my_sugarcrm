<form action="index.php" method="POST" name="{$form_name}" id="{$form_id}" {$enctype}>
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
            <td style="padding-bottom: 2px;">
                <input type="hidden" name="module" value="{$module}">
                {if isset($smarty.request.isDuplicate) && $smarty.request.isDuplicate eq "true"}
                <input type="hidden" name="record" value="">
                <input type="hidden" name="duplicateSave" value="true">
                {else}
                <input type="hidden" name="record" value="{$fields.id.value}">
                {/if}
                <input type="hidden" name="isDuplicate" value="false">
                <input type="hidden" name="action" {if $smarty.request.masscreate == true}value="Save"{/if}>
                       <input type="hidden" name="return_module" value="{$smarty.request.return_module}">
                <input type="hidden" name="return_action" value="{$smarty.request.return_action}">
                <input type="hidden" name="return_id" value="{$smarty.request.return_id}">
                <input type="hidden" name="contact_role">
                {if !empty($smarty.request.return_module)}
                <input type="hidden" name="relate_to" value="{if $smarty.request.return_relationship}{$smarty.request.return_relationship}{else}{$smarty.request.return_module}{/if}">
                <input type="hidden" name="relate_id" value="{$smarty.request.return_id}">
                {/if}
                <input type="hidden" name="offset" value="{$offset}">
                {if $bean->aclAccess("save")}<input title="{$APP.LBL_SAVE_BUTTON_TITLE}" {if $smarty.request.masscreate == true}style="display: none;"{/if} accessKey="{$APP.LBL_SAVE_BUTTON_KEY}" class="button" onclick="{if $isDuplicate}this.form.return_id.value=''; {/if}this.form.action.value='Save'; return check_form('EditView');" type="submit" name="button" value="{$APP.LBL_SAVE_BUTTON_LABEL}">{/if} 
                                                    {if !empty($smarty.request.return_action) && ($smarty.request.return_action == "DetailView" && !empty($fields.id.value))}<input {if $smarty.request.masscreate == true}style="display: none;"{/if} title="{$APP.LBL_CANCEL_BUTTON_TITLE}" accessKey="{$APP.LBL_CANCEL_BUTTON_KEY}" class="button" onclick="this.form.action.value='DetailView'; this.form.module.value='{$smarty.request.return_module}'; this.form.record.value='{$smarty.request.return_id}';" type="submit" name="button" value="{$APP.LBL_CANCEL_BUTTON_LABEL}"> {elseif !empty($smarty.request.return_action) && ($smarty.request.return_action == "DetailView" && !empty($smarty.request.return_id))}<input {if $smarty.request.masscreate == true}style="display: none;"{/if} title="{$APP.LBL_CANCEL_BUTTON_TITLE}" accessKey="{$APP.LBL_CANCEL_BUTTON_KEY}" class="button" onclick="this.form.action.value='DetailView'; this.form.module.value='{$smarty.request.return_module}'; this.form.record.value='{$smarty.request.return_id}';" type="submit" name="button" value="{$APP.LBL_CANCEL_BUTTON_LABEL}"> {else}<input {if $smarty.request.masscreate == true}style="display: none;"{/if} title="{$APP.LBL_CANCEL_BUTTON_TITLE}" accessKey="{$APP.LBL_CANCEL_BUTTON_KEY}" class="button" onclick="this.form.action.value='index'; this.form.module.value='{$smarty.request.return_module}'; this.form.record.value='{$smarty.request.return_id}';" type="submit" name="button" value="{$APP.LBL_CANCEL_BUTTON_LABEL}"> {/if}
                                                    {if $bean->aclAccess("detail")}{if !empty($fields.id.value) && $isAuditEnabled}<input title="{$APP.LNK_VIEW_CHANGE_LOG}" class="button" onclick='open_popup("Audit", "600", "400", "&record={$fields.id.value}&module_name=Opportunities", true, false,  {ldelim} "call_back_function":"set_return","form_name":"EditView","field_to_name_array":[] {rdelim} ); return false;' type="submit" value="{$APP.LNK_VIEW_CHANGE_LOG}">{/if}{/if}
            </td>
            <td align='right'></td>
        </tr>
    </table>{sugar_include include=$includes}
    <table width="100%" cellspacing="0" cellpadding="0" class='tabDetailView' id='tabFormPagination'>
        {$PAGINATION}
    </table>
    <div id="DEFAULT">
        {counter name="panelFieldCount" start=0 print=false assign="panelFieldCount"}
        <table width="100%" border="0" cellspacing="1" cellpadding="0"  class="{$def.templateMeta.panelClass|default:tabForm}">
            <tr>
                <td valign="top" id='name_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_OPPORTUNITY_NAME' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                    <span class="required">*</span>
                </td>
                <td valign="top" width='37.5%' class='tabEditViewDF' NOWRAP colspan="3">
                    {counter name="panelFieldCount"}

                    {if strlen($fields.name.value) <= 0}
                    {assign var="value" value=$fields.name.default_value }
                    {else}
                    {assign var="value" value=$fields.name.value }
                    {/if}  
                    <input type='text' name='{$fields.name.name}' id='{$fields.name.name}1' size='30' maxlength='50' value='{$value}'  title=''  class='sqsEnabled' tabindex='1' autocomplete='off' >
                    <input type="hidden" name="opp_id" id="opp_id">
                </td>

                <td valign="top" id='product_line_label' width='12.5%' class="dataLabel" rowspan="2">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_PRODUCT_LINE' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                </td>
                <td valign="top" width='37.5%' class='tabEditViewDF'  NOWRAP colspan="2" rowspan="2">
                    {counter name="panelFieldCount"}

                    {$fields.product_line.value}
                </td>
            </tr>


            <tr >
                <td valign="top" id='account_name_label' width='12.5%' class="dataLabel" {if $smarty.request.masscreate == true}style="display: none;"{/if}>
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_ACCOUNT_NAME' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                    <span class="required">*</span>
                </td>
                <td valign="top" width='37.5%' class='tabEditViewDF' NOWRAP colspan="3" {if $smarty.request.masscreate == true}style="display: none;"{/if}>
                    {counter name="panelFieldCount"}
                    <input type="text" name="{$fields.account_name.name}_custno" id="{$fields.account_name.name}_custno" tabindex='1' class="sqsEnabled" size="6" value="{fmp_activitycustno_value parent_type='Accounts' parent_id=$fields.account_id.value}" autocomplete="off">
                    <input type="text" name="{$fields.account_name.name}" class="sqsEnabled" tabindex="1" id="{$fields.account_name.name}" size="32" value="{$fields.account_name.value}" title='' autocomplete="off">
                    <input type="hidden" name="{$fields.account_name.id_name}" id="{$fields.account_name.id_name}" value="{$fields.account_id.value}">
                    <input type="button" name="btn_{$fields.account_name.name}" title="{$APP.LBL_SELECT_BUTTON_TITLE}" accessKey="{$APP.LBL_SELECT_BUTTON_KEY}" class="button" value="{$APP.LBL_SELECT_BUTTON_LABEL}" onclick='open_popup("{$fields.account_name.module}", 600, 400, "", true, false, {literal}{"call_back_function":"set_return","form_name":"EditView","field_to_name_array":{"id":"account_id","name":"account_name"}}{/literal}, "single", true);'>
                    <input type="button" name="btn_clr_{$fields.account_name.name}" title="{$APP.LBL_CLEAR_BUTTON_TITLE}" accessKey="{$APP.LBL_CLEAR_BUTTON_KEY}" class="button" onclick="this.form.{$fields.account_name.name}.value = ''; this.form.{$fields.account_name.id_name}.value = '';" value="{$APP.LBL_CLEAR_BUTTON_LABEL}">
                </td>
            </tr>

            <tr>
                <td valign="top" id='amount_label' width='12.5%' class="dataLabel">
                    &nbsp;
                </td>
                <td valign="top" width='25%'  NOWRAP colspan="2" style="padding-left: 0px; padding-top: 5px; font-size: 12px;">
                    Estimated Annualized  &nbsp; or  &nbsp; Estimated Monthly
                </td>
                <td valign="top" width='12.5%' class="dataLabel" style="text-align: center;">
                    &nbsp;
                </td>
                <td valign="top" width='12.5%%' class="dataLabel" style="text-align: center;">
                    &nbsp;
                </td>
                <td  valign="top" id='amount_label' style="font-size: 12px; padding-left: 0px; padding-top: 5px;" colspan="2">
                    <table cellspacing="0" cellpadding="0" border="0" width="100%">
                        <tr>
                            <td valign="top" width='25%'  style="text-align: left; font-size: 12px; padding-bottom: 0px;">
                                Prev 12-mo avg
                            </td>
                            <td valign="top" width='25%'  style="text-align: center;font-size: 12px;">
                                Rolling
                            </td>
                            <td valign="top" width='25%'  style="text-align: center;font-size: 12px;">
                                MTD
                            </td>
                            <td valign="top" width='25%'  style="text-align: center;font-size: 12px;">
                                YTD
                            </td>
                        </tr>
                    </table>
                </td>
                <!--<td valign="top" width='17%' class="dataLabel" style="text-align: center;">
                              Prev 12-mo avg
                </td>
                <td valign="top" width='16.5%' class="dataLabel" style="text-align: center;">
                                Rolling &nbsp;
                </td>
                <td valign="top" width='16.5%' class="dataLabel" style="text-align: center;">
                                MTD &nbsp;
                </td>-->
            </tr>

            <tr>
                <td valign="top" id='amount_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_AMOUNT' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                    <span class="required">*</span>
                </td>
                <!--<td valign="top" width='37.5%' class='tabEditViewDF' NOWRAP>
                    {counter name="panelFieldCount"}
                    
                    {if strlen($fields.amount.value) <= 0}
                    {assign var="value" value=$fields.amount.default_value }
                    {else}
                    {assign var="value" value=$fields.amount.value }
                    {/if}  
                    <input type='text' name='{$fields.amount.name}' id='{$fields.amount.name}' size='30'  value='{$value}' title='' tabindex='1' >
                </td>-->
                <td valign="top" width='12.5%' class='tabEditViewDF' NOWRAP align="left">
                    {counter name="panelFieldCount"}

                    {if strlen($fields.amount.value) <= 0}
                    {assign var="value" value=$fields.amount.default_value }
                    {else}
                    {assign var="value" value=$fields.amount.value }
                    {/if}
                    <input type='text' name='{$fields.amount.name}' id='{$fields.amount.name}1' onkeyup='eval_gp_dollar(); eval_month_sales();' size='8'  value='{$value}' title='' tabindex='1' >
                </td>
                <!--<td valign="top" id='month_sales_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_MONTH_SALES' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
               </td>-->
                <td width='12.5%' class='tabEditViewDF' NOWRAP align="left" style="padding-left: 5px;padding-top: 0px;" valign="top">
                    {counter name="panelFieldCount"}

                    {$fields.month_sales.value}
                </td>
                <td width='12.5%' class='tabEditViewDF' NOWRAP>
                    &nbsp;
                </td>
                <td valign="top" id='amount_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_AMOUNT' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                </td>
                <td valign="top"  style="padding-left: 0;padding-top: 0px; font-size: 12px;" colspan="2">

                    <table cellspacing="0" cellpadding="0" width="100%" border="0">
                        <tr>
                            <td  style="text-align: left; border-bottom: 0; padding-left: 10px; padding-top: 0px;">
                                {if strlen($fields.previousavg_sales_c.value) <= 0}
                                {assign var="value" value=$fields.previousavg_sales_c.default_value }
                                {else}
                                {assign var="value" value=$fields.previousavg_sales_c.value }
                                {/if}
                                <input type='text' name='{$fields.previousavg_sales_c.name}' id='{$fields.previousavg_sales_c.name}' size='8' 
                                       maxlength='6' value='{$value}' title='' tabindex='3' />
                            </td>
                            <td  style="text-align: center; border-bottom: 0;padding-top: 0px;">
                                {if strlen($fields.rolling_sales_c.value) <= 0}
                                {assign var="value" value=$fields.rolling_sales_c.default_value }
                                {else}
                                {assign var="value" value=$fields.rolling_sales_c.value }
                                {/if} 
                                <input type='text' name='{$fields.rolling_sales_c.name}' id='{$fields.rolling_sales_c.name}' size='8' 
                                       maxlength='6' value='{$value}' title='' tabindex='4' />
                            </td>
                            <td  style="text-align: center; border-bottom: 0;padding-top: 0px;">
                                {if strlen($fields.mtd_sales_c.value) <= 0}
                                {assign var="value" value=$fields.mtd_sales_c.default_value }
                                {else}
                                {assign var="value" value=$fields.mtd_sales_c.value }
                                {/if} 
                                <input type='text' name='{$fields.mtd_sales_c.name}' id='{$fields.mtd_sales_c.name}' size='8' 
                                       maxlength='6' value='{$value}' title='' tabindex='5' />
                            </td>
                            <td  style="text-align: center; border-bottom: 0; padding-top: 0px;">
                                {if strlen($fields.mtd_sales_c.value) <= 0}
                                {assign var="value" value=$fields.ytd_sales_c.default_value }
                                {else}
                                {assign var="value" value=$fields.ytd_sales_c.value }
                                {/if}
                                <input type='text' name='{$fields.ytd_sales_c.name}' id='{$fields.ytd_sales_c.name}' size='8'
                                       maxlength='6' value='{$value}' title='' tabindex='5' />
                            </td>
                        </tr>
                    </table>
                </td>
                <!--<td width='17%' class='tabEditViewDF' NOWRAP style="text-align: center; border-bottom: 0;" align="center">
                                {if strlen($fields.previousavg_sales_c.value) <= 0}
                                {assign var="value" value=$fields.previousavg_sales_c.default_value }
                                {else}
                                {assign var="value" value=$fields.previousavg_sales_c.value }
                                {/if}
                                <input type='text' name='{$fields.previousavg_sales_c.name}' id='{$fields.previousavg_sales_c.name}' size='8'
                                    maxlength='6' value='{$value}' title='' tabindex='3' />
                 </td>
                 <td  width='16.5%' class='tabEditViewDF' NOWRAP style="text-align: center; border-bottom: 0;" align="center">
                                {if strlen($fields.rolling_sales_c.value) <= 0}
                                {assign var="value" value=$fields.rolling_sales_c.default_value }
                                {else}
                                {assign var="value" value=$fields.rolling_sales_c.value }
                                {/if}
                                <input type='text' name='{$fields.rolling_sales_c.name}' id='{$fields.rolling_sales_c.name}' size='8'
                                    maxlength='6' value='{$value}' title='' tabindex='4' />
                 </td>
                 <td  width='16.5%' class='tabEditViewDF' NOWRAP style="text-align: center; border-bottom: 0;" align="center">
                                {if strlen($fields.mtd_sales_c.value) <= 0}
                                {assign var="value" value=$fields.mtd_sales_c.default_value }
                                {else}
                                {assign var="value" value=$fields.mtd_sales_c.value }
                                {/if}
                                <input type='text' name='{$fields.mtd_sales_c.name}' id='{$fields.mtd_sales_c.name}' size='8'
                                    maxlength='6' value='{$value}' title='' tabindex='5' />
                 </td>-->

            </tr>

            <tr>
                <td valign="top" id='gp_dollar_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_GP_DOLLAR' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                </td>
                <!-- <td valign="top" width='37.5%' class='tabEditViewDF' NOWRAP>
                     {counter name="panelFieldCount"}
             
                     {$fields.gp_dollar.value}
                 </td>-->
                <td valign="top" width='12.5%' class='tabEditViewDF' NOWRAP align="left">
                    {counter name="panelFieldCount"}

                    {$fields.gp_dollar.value}
                </td>
                <!--<td valign="top" id='month_gp_dollar_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_MONTH_GP_DOLLAR' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
               </td>-->
                <td width='12.5%' class='tabEditViewDF' NOWRAP align="left" style="padding-left: 5px;" valign="top">
                    {counter name="panelFieldCount"}

                    {$fields.month_gp_dollar.value}
                </td>
                <td width='12.5%' class='tabEditViewDF' NOWRAP>
                    &nbsp;
                </td>
                <td valign="top" id='gp_dollar_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_GP_DOLLAR' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                </td>
                <td valign="top"   style="padding-left: 0;padding-top: 0px; font-size: 12px;" colspan="2">

                    <table cellspacing="0" cellpadding="0" width="100%" border="0">
                        <tr>
                            <td  style="text-align: left; border-bottom: 0; padding-left: 10px;">
                                {if strlen($fields.previousavg_gp_c.value) <= 0}
                                {assign var="value" value=$fields.previousavg_gp_c.default_value }
                                {else}
                                {assign var="value" value=$fields.previousavg_gp_c.value }
                                {/if} 
                                <input type='text' name='{$fields.previousavg_gp_c.name}' id='{$fields.previousavg_gp_c.name}' size='8' 
                                       maxlength='6' value='{$value}' title='' tabindex='3' />
                            </td>
                            <td  style="text-align: center; border-bottom: 0;">
                                {if strlen($fields.rolling_gp_c.value) <= 0}
                                {assign var="value" value=$fields.rolling_gp_c.default_value }
                                {else}
                                {assign var="value" value=$fields.rolling_gp_c.value }
                                {/if} 
                                <input type='text' name='{$fields.rolling_gp_c.name}' id='{$fields.rolling_gp_c.name}' size='8' 
                                       maxlength='6' value='{$value}' title='' tabindex='4' />
                            </td>
                            <td  style="text-align: center; border-bottom: 0;">
                                {if strlen($fields.mtd_gp_c.value) <= 0}
                                {assign var="value" value=$fields.mtd_gp_c.default_value }
                                {else}
                                {assign var="value" value=$fields.mtd_gp_c.value }
                                {/if} 
                                <input type='text' name='{$fields.mtd_gp_c.name}' id='{$fields.mtd_gp_c.name}' size='8' 
                                       maxlength='6' value='{$value}' title='' tabindex='5' />
                            </td>
                            <td  style="text-align: center; border-bottom: 0;">
                                {if strlen($fields.ytd_gp_c.value) <= 0}
                                {assign var="value" value=$fields.ytd_gp_c.default_value }
                                {else}
                                {assign var="value" value=$fields.ytd_gp_c.value }
                                {/if}
                                <input type='text' name='{$fields.ytd_gp_c.name}' id='{$fields.ytd_gp_c.name}' size='8'
                                       maxlength='6' value='{$value}' title='' tabindex='5' />
                            </td>
                        </tr>
                    </table>

                </td>
                <!--<td width='17%' class='tabEditViewDF' NOWRAP style="text-align: center; border-bottom: 0;" align="center">
                                {if strlen($fields.previousavg_gp_c.value) <= 0}
                                {assign var="value" value=$fields.previousavg_gp_c.default_value }
                                {else}
                                {assign var="value" value=$fields.previousavg_gp_c.value }
                                {/if}
                                <input type='text' name='{$fields.previousavg_gp_c.name}' id='{$fields.previousavg_gp_c.name}' size='8'
                                    maxlength='6' value='{$value}' title='' tabindex='3' />
                </td>
                <td width='16.5%' class='tabEditViewDF' NOWRAP style="text-align: center; border-bottom: 0;" align="center">
                                {if strlen($fields.rolling_gp_c.value) <= 0}
                                {assign var="value" value=$fields.rolling_gp_c.default_value }
                                {else}
                                {assign var="value" value=$fields.rolling_gp_c.value }
                                {/if}
                                <input type='text' name='{$fields.rolling_gp_c.name}' id='{$fields.rolling_gp_c.name}' size='8'
                                    maxlength='6' value='{$value}' title='' tabindex='4' />
                </td>
                <td width='16.5%' class='tabEditViewDF' NOWRAP style="text-align: center; border-bottom: 0;" align="center">
                                {if strlen($fields.mtd_gp_c.value) <= 0}
                                {assign var="value" value=$fields.mtd_gp_c.default_value }
                                {else}
                                {assign var="value" value=$fields.mtd_gp_c.value }
                                {/if}
                                <input type='text' name='{$fields.mtd_gp_c.name}' id='{$fields.mtd_gp_c.name}' size='8'
                                    maxlength='6' value='{$value}' title='' tabindex='5' />
                </td>-->
            </tr>

            <tr>
                <td valign="top" id='gp_perc_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_GP_PERC' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                    <span class="required">*</span>
                </td>
                <!--<td valign="top" width='37.5%' class='tabEditViewDF' NOWRAP>
                    {counter name="panelFieldCount"}
            
                    {if strlen($fields.gp_perc.value) <= 0}
                    {assign var="value" value=$fields.gp_perc.default_value }
                    {else}
                    {assign var="value" value=$fields.gp_perc.value }
                    {/if}  
                    <input type='text' name='{$fields.gp_perc.name}' id='{$fields.gp_perc.name}' size='30' maxlength='6' value='{$value}' title='' tabindex='1' >
                </td>-->
                <td valign="top" width='12.5%' class='tabEditViewDF' NOWRAP align="left">
                    {counter name="panelFieldCount"}

                    {if strlen($fields.gp_perc.value) <= 0}
                    {assign var="value" value=$fields.gp_perc.default_value }
                    {else}
                    {assign var="value" value=$fields.gp_perc.value }
                    {/if}
                    <input type='text' name='{$fields.gp_perc.name}' id='{$fields.gp_perc.name}' onkeyup='eval_gp_dollar();' size='8' maxlength='6' value='{$value}' title='' tabindex='1' >
                </td>
                <!--<td valign="top" id='month_gp_perc_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_MONTH_GP_PERC' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
               </td>-->
                <td width='12.5%' class='tabEditViewDF' NOWRAP align="left" style="padding-left: 5px;" valign="top">
                    {counter name="panelFieldCount"}

                    {if strlen($fields.month_gp_perc.value) <= 0}
                    {assign var="value" value=$fields.gp_perc.value }
                    {/if}
                    <input type='text' name='{$fields.month_gp_perc.name}' id='{$fields.month_gp_perc.name}' onkeyup='month_gp_perc_changed();' size='8' maxlength='6' value='{$value}' title='' tabindex='1' >
                </td>
                <td  width='12.5%' class='tabEditViewDF' NOWRAP>
                    &nbsp;
                </td>
              <td valign="top" id='gp_perc_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_GP_PERC' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                </td>
                <td valign="top"  style="padding-left: 0;padding-top: 0px; font-size: 12px;" colspan="2">

                    <table cellspacing="0" cellpadding="0" width="100%" border="0">
                        <tr>
                            <td  style="text-align: left; border-bottom: 0; padding-left: 10px;">
                                {if strlen($fields.previousavg_gp_percent_c.value) <= 0}
                                {assign var="value" value=$fields.previousavg_gp_percent_c.default_value }
                                {else}
                                {assign var="value" value=$fields.previousavg_gp_percent_c.value }
                                {/if} 
                                <input type='text' name='{$fields.previousavg_gp_percent_c.name}' id='{$fields.previousavg_gp_percent_c.name}' size='8' 
                                       maxlength='6' value='{$value}' title='' tabindex='3' />
                            </td>
                            <td  style="text-align: center; border-bottom: 0;">
                                {if strlen($fields.rolling_gp_percent_c.value) <= 0}
                                {assign var="value" value=$fields.rolling_gp_percent_c.default_value }
                                {else}
                                {assign var="value" value=$fields.rolling_gp_percent_c.value }
                                {/if} 
                                <input type='text' name='{$fields.rolling_gp_percent_c.name}' id='{$fields.rolling_gp_percent_c.name}' size='8' 
                                       maxlength='6' value='{$value}' title='' tabindex='4' />
                            </td>
                            <td  style="text-align: center; border-bottom: 0;">
                                {if strlen($fields.mtd_gp_percent_c.value) <= 0}
                                {assign var="value" value=$fields.mtd_gp_percent_c.default_value }
                                {else}
                                {assign var="value" value=$fields.mtd_gp_percent_c.value }
                                {/if} 
                                <input type='text' name='{$fields.mtd_gp_percent_c.name}' id='{$fields.mtd_gp_percent_c.name}' size='8' 
                                       maxlength='6' value='{$value}' title='' tabindex='5' />
                            </td>
                            <td  style="text-align: center; border-bottom: 0;">
                                {if strlen($fields.ytd_gp_percent_c.value) <= 0}
                                {assign var="value" value=$fields.ytd_gp_percent_c.default_value }
                                {else}
                                {assign var="value" value=$fields.ytd_gp_percent_c.value }
                                {/if}
                                <input type='text' name='{$fields.ytd_gp_percent_c.name}' id='{$fields.ytd_gp_percent_c.name}' size='8'
                                       maxlength='6' value='{$value}' title='' tabindex='5' />
                            </td>
                        </tr>
                    </table>
                </td>
                <!--<td width='17%' class='tabEditViewDF' NOWRAP style="text-align: center; border-bottom: 0;" align="center">
                                {if strlen($fields.previousavg_gp_percent_c.value) <= 0}
                                {assign var="value" value=$fields.previousavg_gp_percent_c.default_value }
                                {else}
                                {assign var="value" value=$fields.previousavg_gp_percent_c.value }
                                {/if}
                                <input type='text' name='{$fields.previousavg_gp_percent_c.name}' id='{$fields.previousavg_gp_percent_c.name}' size='8'
                                    maxlength='6' value='{$value}' title='' tabindex='3' />
                 </td>
                 <td  width='16.5%' class='tabEditViewDF' NOWRAP style="text-align: center; border-bottom: 0;" align="center">
                                {if strlen($fields.rolling_gp_percent_c.value) <= 0}
                                {assign var="value" value=$fields.rolling_gp_percent_c.default_value }
                                {else}
                                {assign var="value" value=$fields.rolling_gp_percent_c.value }
                                {/if}
                                <input type='text' name='{$fields.rolling_gp_percent_c.name}' id='{$fields.rolling_gp_percent_c.name}' size='8'
                                    maxlength='6' value='{$value}' title='' tabindex='4' />
                 </td>
                 <td  width='16.5%' class='tabEditViewDF' NOWRAP style="text-align: center; border-bottom: 0;" align="center">
                                {if strlen($fields.mtd_gp_percent_c.value) <= 0}
                                {assign var="value" value=$fields.mtd_gp_percent_c.default_value }
                                {else}
                                {assign var="value" value=$fields.mtd_gp_percent_c.value }
                                {/if}
                                <input type='text' name='{$fields.mtd_gp_percent_c.name}' id='{$fields.mtd_gp_percent_c.name}' size='8'
                                    maxlength='6' value='{$value}' title='' tabindex='5' />
                 </td>-->
            </tr>
            <!--{popup_init src='custom/modules/Opportunities/overlib.js'}-->
            <tr>
                <td valign="top" id='assigned_user_name_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_PROBABILITY' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                </td>
                <td valign="top" width='37.5%' class='tabEditViewDF'  NOWRAP colspan="6">
                    {counter name="panelFieldCount"}

                    {if strlen($fields.probability.value) <= 0}
                    {assign var="value" value=25 }
                    {else}
                    {assign var="value" value=$fields.probability.value }
                    {/if}  
                    <!--<input type='text' name='{$fields.probability.name}' id='{$fields.probability.name}' size='11' tabindex='1' value='{$value}' title='' > -->
                    <select name='{$fields.probability.name}' id='{$fields.probability.name}' tabindex='1' value='{$value}' >
                        {html_options options=$probability_options selected=$value}	
                    </select>&nbsp;&nbsp;&nbsp;<a class="button" {popup sticky=true caption='Probability % explanation'
                                                  text="<ul><li>0% = no interest/closed lost</li><li>25% = slight interest</li><li>50% = active interest</li><li>75% = committed to buy (formal or verbal)</li><li>100% = buying/closed won</li></ul>"
                        snapx=10 snapy=10 trigger='onClick'}>[?]</a>
                </td>
            </tr>
            {if ($fields.sales_stage.value == 'Closed Promotion Ended' || $fields.sales_stage.value == 'Active Promotion')}
                    {assign var=hide_start_date value=""}
            {else}
                    {assign var=hide_start_date value="style='display:none;'" }
            {/if}
            <tr id="start_date_row" {$hide_start_date}>
                 <td valign="top" id='description_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_DATE_START' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                    <span class="required">*</span>
                </td>
                <td valign="top" width='37.5%' class='tabEditViewDF' NOWRAP colspan="3" >
                    {counter name="panelFieldCount"}
                    {if ($fields.sales_stage.value == 'Closed Promotion Ended' || $fields.sales_stage.value == 'Active Promotion')}
                        {if strlen($fields.date_start_c.value) <= 0}
                            {assign var=date_value value=$date_start_c_default }
                        {else}
                            {assign var=date_value value=$fields.date_start_c.value }
                        {/if}
                    {else}
                            {assign var=date_value value="" }
                    {/if}
                    <input autocomplete="off" type="text" name="{$fields.date_start_c.name}" id="{if $smarty.request.masscreate != true}{$fields.date_start_c.name}{else}date_start_c_popup{/if}" value="{$date_value}" title=''  tabindex='1' size="11" maxlength="10">
                    <img border="0" src="themes/default/images/jscalendar.gif" alt="{$APP.LBL_ENTER_DATE}" id="{if $smarty.request.masscreate != true}{$fields.date_start_c.name}_trigger{else}date_start_c_popup_trigger{/if}" align="absmiddle" />
                    <script type="text/javascript">
                        Calendar.setup ({ldelim}
                        inputField : "{$fields.date_start_c.name}",
                        daFormat : "{$CALENDAR_FORMAT}",
                        button : "{$fields.date_start_c.name}_trigger",
                        singleClick : true,
                        dateStr : "{$date_value}",
                        step : 1
                        {rdelim}
                    );
                    </script>
                     <script type="text/javascript">
                        Calendar.setup ({ldelim}
                        inputField : "{$fields.date_start_c.name}_popup",
                        daFormat : "{$CALENDAR_FORMAT}",
                        button : "{$fields.date_start_c.name}_popup_trigger",
                        singleClick : true,
                        dateStr : "{$date_value}",
                        step : 1
                        {rdelim}
                    );
                    </script>
                </td>
            </tr>
            <tr>
                <td valign="top" id='description_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_DATE_CLOSED' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                    <span class="required">*</span>
                </td>
                <td valign="top" width='37.5%' class='tabEditViewDF' NOWRAP colspan="3">
                    {counter name="panelFieldCount"}
                    {if strlen($fields.date_closed.value) <= 0}
                    {assign var=date_value value=$close_date_default }
                    {else}
                    {assign var=date_value value=$fields.date_closed.value }
                    {/if}
                    <input autocomplete="off" type="text" name="{$fields.date_closed.name}" id="{if $smarty.request.masscreate != true}{$fields.date_closed.name}{else}date_closed_popup{/if}" value="{$date_value}" title=''  tabindex='1' size="11" maxlength="10">
                    <img border="0" src="themes/default/images/jscalendar.gif" alt="{$APP.LBL_ENTER_DATE}" id="{if $smarty.request.masscreate != true}{$fields.date_closed.name}_trigger{else}date_closed_popup_trigger{/if}" align="absmiddle" />
                    <script type="text/javascript">
                        Calendar.setup ({ldelim}
                        inputField : "{$fields.date_closed.name}",
                        daFormat : "{$CALENDAR_FORMAT}",
                        button : "{$fields.date_closed.name}_trigger",
                        singleClick : true,
                        dateStr : "{$date_value}",
                        step : 1
                        {rdelim}
                    );
                    </script>
                </td>

                <td valign="top" id='probability_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_ASSIGNED_TO_NAME' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                </td>
                <td valign="top" width='37.5%' class='tabEditViewDF'  NOWRAP  colspan="2">
                    {counter name="panelFieldCount"}

                    <input type="text" tabindex='6' name="{$fields.assigned_user_name.name}" class="sqsEnabled" id="{$fields.assigned_user_name.name}1" size="" value="{$fields.assigned_user_name.value}" title='' autocomplete="off"  >
                    <input type="hidden" name="{$fields.assigned_user_name.id_name}" id="{$fields.assigned_user_name.id_name}1" value="{$fields.assigned_user_id.value}">
                    <input type="hidden" name="{$fields.assigned_user_name.name}_hidden" id="{$fields.assigned_user_name.name}_hidden" value="{$fields.assigned_user_name.value}">
                    <input type="hidden" name="{$fields.assigned_user_name.id_name}_hidden" id="{$fields.assigned_user_name.id_name}_hidden" value="{$fields.assigned_user_id.value}">
                    <input type="button" name="btn_{$fields.assigned_user_name.name}" title="{$APP.LBL_SELECT_BUTTON_TITLE}" accessKey="{$APP.LBL_SELECT_BUTTON_KEY}" class="button" value="{$APP.LBL_SELECT_BUTTON_LABEL}" onclick='open_popup("{$fields.assigned_user_name.module}", 600, 400, "", true, false, {literal}{"call_back_function":"set_return","form_name":"EditView","field_to_name_array":{"id":"assigned_user_id1","user_name":"assigned_user_name1"}}{/literal}, "single", true);'>
                    <input type="button" name="btn_clr_{$fields.assigned_user_name.name}" title="{$APP.LBL_CLEAR_BUTTON_TITLE}" accessKey="{$APP.LBL_CLEAR_BUTTON_KEY}" class="button" onclick="this.form.{$fields.assigned_user_name.name}1.value = ''; this.form.{$fields.assigned_user_name.id_name}1.value = '';" value="{$APP.LBL_CLEAR_BUTTON_LABEL}">
                    <input type="checkbox" id="default_assigned">
                </td>
            </tr>

            <tr>
                <td valign="top" id='description_label' width='12.5%' class="dataLabel" rowspan="2">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_DESCRIPTION' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                </td>
                <td valign="top" width='37.5%' class='tabEditViewDF' NOWRAP rowspan="2" colspan="3">
                    {counter name="panelFieldCount"}

                    {if empty($fields.description.value)}
                    {assign var="value" value=$fields.description.default_value }
                    {else}
                    {assign var="value" value=$fields.description.value }
                    {/if}  
                    <textarea id="{$fields.description.name}" name="{$fields.description.name}" rows="4" cols="60" title='' tabindex="1">{$value}</textarea>
                </td>

                <td valign="top" id='lead_source_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_TYPE' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                </td>
                <td valign="top" width='37.5%' class='tabEditViewDF' NOWRAP  colspan="2">
                    {counter name="panelFieldCount"}

                    <select name="{$fields.opportunity_type.name}" id="{$fields.opportunity_type.name}" title='' tabindex="6">
                        {if isset($fields.opportunity_type.value) && $fields.opportunity_type.value != ''}
                        {html_options options=$fields.opportunity_type.options selected=$fields.opportunity_type.value}
                        {else}
                        {html_options options=$fields.opportunity_type.options selected="New Business"}
                        {/if}
                    </select>
                </td>

            </tr>

            <tr>
                <td valign="top" id='lead_source_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_LEAD_SOURCE' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                </td>
                <td valign="top" width='37.5%' class='tabEditViewDF' NOWRAP  colspan="2">
                    {counter name="panelFieldCount"}

                    <select name="{$fields.lead_source.name}" id="{$fields.lead_source.name}" title='' tabindex="6"  >
                        {if isset($fields.lead_source.value) && $fields.lead_source.value != ''}
                        {html_options options=$fields.lead_source.options selected=$fields.lead_source.value}
                        {else}
                        {html_options options=$fields.lead_source.options selected="Existing Customer"}
                        {/if}
                    </select>
                </td>
            </tr>

            <tr>
                <td valign="top" id='description_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_SALES_STAGE' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                    <span class="required">*</span>
                </td>
                <td valign="top" width='37.5%' class='tabEditViewDF' NOWRAP colspan="3">
                    {counter name="panelFieldCount"}

                    <select name="{$fields.sales_stage.name}" id="{$fields.sales_stage.name}" title='' tabindex="1"  >
                        {if isset($fields.sales_stage.value) && $fields.sales_stage.value != ''}
                        {html_options options=$fields.sales_stage.options selected=$fields.sales_stage.value}
                        {else}
                        {html_options options=$fields.sales_stage.options selected=$fields.sales_stage.default}
                        {/if}
                    </select>
                </td>
                <td valign="top" id='date_closed_label' width='12.5%' class="dataLabel"></td>
                <td valign="top" width='37.5%' class='tabEditViewDF' NOWRAP  colspan="2"></td>
            </tr>

            <tr>
                <td valign="top" id='opupdate_c_label' width='12.5%' class="dataLabel">
                    {capture name="label" assign="label}
                    {sugar_translate label='LBL_OPUPDATE' module='Opportunities'}
                    {/capture}
                    {$label|strip_semicolon}:
                </td>
                <td valign="top" width='37.5%' class='tabEditViewDF' NOWRAP colspan="3">
                    {counter name="panelFieldCount"}

                    {if empty($fields.opupdate_c.value)}
                    {assign var="value" value=$fields.opupdate_c.default_value }
                    {else}
                    {assign var="value" value=$fields.opupdate_c.value }
                    {/if}  
                    <textarea id="{$fields.opupdate_c.name}" name="{$fields.opupdate_c.name}" rows="4" cols="60" title='' tabindex="1">{$value}</textarea>
                </td>

                <td valign="top" id='date_closed_label' width='12.5%' class="dataLabel"></td>
                <td valign="top" width='37.5%' class='tabEditViewDF' NOWRAP  colspan="2"></td>
            </tr>

        </table>
    </div>
    {if $panelFieldCount == 0}
    <script>document.getElementById("DEFAULT").style.display='none';</script>
    {/if}
    <p>

    <div style="padding-top: 2px" class="form-bottom-div">
        <div class="form-bottom-div-filter">
            {if $smarty.request.masscreate != true}
            <div class="form-bottom-div-table">
                {if $bean->aclAccess("save")}<input title="{$APP.LBL_SAVE_BUTTON_TITLE}" accessKey="{$APP.LBL_SAVE_BUTTON_KEY}" class="button" onclick="{if $isDuplicate}this.form.return_id.value=''; {/if}this.form.action.value='Save'; return check_form('EditView');" type="submit" name="button" value="{$APP.LBL_SAVE_BUTTON_LABEL}">{/if} 
                {if !empty($smarty.request.return_action) && ($smarty.request.return_action == "DetailView" && !empty($fields.id.value))}<input title="{$APP.LBL_CANCEL_BUTTON_TITLE}" accessKey="{$APP.LBL_CANCEL_BUTTON_KEY}" class="button" onclick="this.form.action.value='DetailView'; this.form.module.value='{$smarty.request.return_module}'; this.form.record.value='{$smarty.request.return_id}';" type="submit" name="button" value="{$APP.LBL_CANCEL_BUTTON_LABEL}"> {elseif !empty($smarty.request.return_action) && ($smarty.request.return_action == "DetailView" && !empty($smarty.request.return_id))}<input title="{$APP.LBL_CANCEL_BUTTON_TITLE}" accessKey="{$APP.LBL_CANCEL_BUTTON_KEY}" class="button" onclick="this.form.action.value='DetailView'; this.form.module.value='{$smarty.request.return_module}'; this.form.record.value='{$smarty.request.return_id}';" type="submit" name="button" value="{$APP.LBL_CANCEL_BUTTON_LABEL}"> {else}<input title="{$APP.LBL_CANCEL_BUTTON_TITLE}" accessKey="{$APP.LBL_CANCEL_BUTTON_KEY}" class="button" onclick="this.form.action.value='index'; this.form.module.value='{$smarty.request.return_module}'; this.form.record.value='{$smarty.request.return_id}';" type="submit" name="button" value="{$APP.LBL_CANCEL_BUTTON_LABEL}"> {/if}
                {if $bean->aclAccess("detail")}{if !empty($fields.id.value) && $isAuditEnabled}<input title="{$APP.LNK_VIEW_CHANGE_LOG}" class="button" onclick='open_popup("Audit", "600", "400", "&record={$fields.id.value}&module_name=Opportunities", true, false,  {ldelim} "call_back_function":"set_return","form_name":"EditView","field_to_name_array":[] {rdelim} ); return false;' type="submit" value="{$APP.LNK_VIEW_CHANGE_LOG}">{/if}{/if}
            </div>
            {/if}
            </form>
            {if $smarty.request.masscreate == true}
            {literal}
            <script>
                var eval_month_sales = function() {
                    var amount = $('form#EditView input#amount1').val();
                    
                    amount = new String(amount).replace(',', '');
                    amount = parseInt(amount);
                    if (isNaN(amount)) {
                        amount = 0;
                    }
                    var month_sales = amount/12;
                    $('form#EditView input#month_sales').val(Math.round(month_sales));
                    return true;
                }
                var eval_sales = function() {
                    var gp =  $('form#EditView input#gp_perc').val();
                    var month_amount = $('form#EditView input#month_sales').val();
                    month_amount = new String(month_amount).replace(',', '');
                    month_amount = parseInt(month_amount);
                    if (isNaN(month_amount)) {
                        month_amount = 0;
                    }
                    var gp_amount = parseInt(gp);
                    if (isNaN(gp_amount)) {
                        gp_amount = 0;
                    }
                    var sales = month_amount * 12;
                    var gp_dollar = (sales * gp_amount)/100;
                    $('form#EditView input#gp_dollar').val(Math.round(gp_dollar));
                    $('form#EditView input#amount1').val(sales);
                    return true;
                }
                
                var eval_gp_dollar = function () { 
                    var gp =  $('form#EditView input#gp_perc').val(); 
                    var amount = $('form#EditView input#amount1').val(); 
                    amount = (new String(amount)).replace(",", ""); 
                    amount = parseInt(amount); 
                    if (isNaN(amount)) { 
                        amount = 0; 
                    } 
                    var gp_amount = parseInt(gp); 
                    if (isNaN(gp_amount)) { 
                        gp_amount = 0; 
                    } 
                    var gp_dollar = amount * gp_amount / 100; 
                    var month_gp_dollar = amount * gp_amount / 1200; 
                    $('form#EditView input#gp_dollar').val(Math.round(gp_dollar)); 
                    $('form#EditView input#month_gp_dollar').val(Math.round(month_gp_dollar)); 
                    $('form#EditView input#month_gp_perc').val(gp_amount); 
                    return true;
                }
                
                YAHOO.util.Event.onContentReady("pline_c", eval_month_sales);
                YAHOO.util.Event.onContentReady("pline_c", eval_sales);
                
                
            </script>
            {/literal}

            <script type="text/javascript">
                Calendar.setup ({ldelim}
                inputField : "date_closed_popup",
                daFormat : "%m/%d/%Y %I:%M%P",
                button : "date_closed_popup_trigger",
                singleClick : true,
                dateStr : "{$date_value}",
                step : 1
                {rdelim}
            );
            </script>

            {$popup_massopp_js}
            {$popup_massopp_filter}
            <div class="popup_massopp_js">
                <table id="customers_list" style="width: 100%">
                    <thead>
                    <th style="width: 30px;">Include</th>
                    <th>CustNo</th>
                    <th style="width: 300px;">CustName</th>
                    <th style="width: 30px;">Address</th>
                    <th style="width: 30px;">City</th>
                    <th style="width: 30px;">State</th>
                    <th style="width: 30px;">PostalCode</th>
                    <th >Contact</th><th>Phone</th>
                    <th  style="width: 30px;">MTD Sales</th>
                    <th  style="width: 30px;">MTD Proj vs. Budget</th>
                    <th  style="width: 30px;">YTD Sales</th>
                    <th  style="width: 30px;">YTD Proj vs. Budget</th>
                    <th  style="width: 30px;">Assigned User</th>
                    <!-- <th class="status-table-header" style="width: 30px;">Status</th>
                    <th class="pre-call-plan-table-header" style="width: 300px;">Pre-Call Plan</th>
                    <th class="outcome-table-header" style="width: 300px;">Outcome</th> -->
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="11" class="dataTables_empty">Loading data from server</td>
                        </tr>
                    </tbody>
                </table>
                {/if}

                {$set_focus_block}
                <!-- Begin Meta-Data Javascript -->
                {$PROBABILITY_SCRIPT}
                <!-- End Meta-Data Javascript -->{literal}
                <script type="text/javascript">
                    num_grp_sep = ',';

                    dec_sep = '.';
                    addToValidate('EditView', 'id', 'id', false,'{/literal}{sugar_translate label='LBL_ID' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'name', 'name', true,'{/literal}{sugar_translate label='LBL_OPPORTUNITY_NAME' module='Opportunities'}{literal}' );

                    addToValidate('EditView', 'date_entered_date', 'date', false,'Date Created' );
                    addToValidate('EditView', 'date_modified_date', 'date', false,'Date Modified' );
                    addToValidate('EditView', 'modified_user_id', 'assigned_user_name', false,'{/literal}{sugar_translate label='LBL_MODIFIED_ID' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'modified_by_name', 'relate', false,'{/literal}{sugar_translate label='LBL_MODIFIED_NAME' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'created_by', 'assigned_user_name', false,'{/literal}{sugar_translate label='LBL_CREATED_ID' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'created_by_name', 'relate', false,'{/literal}{sugar_translate label='LBL_CREATED' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'description', 'text', false,'{/literal}{sugar_translate label='LBL_DESCRIPTION' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'deleted', 'bool', false,'{/literal}{sugar_translate label='LBL_DELETED' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'assigned_user_id', 'relate', false,'{/literal}{sugar_translate label='LBL_ASSIGNED_TO_ID' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'assigned_user_name', 'relate', false,'{/literal}{sugar_translate label='LBL_ASSIGNED_TO_NAME' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'opportunity_type', 'enum', false,'{/literal}{sugar_translate label='LBL_TYPE' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'account_name', 'relate', true,'{/literal}{sugar_translate label='LBL_ACCOUNT_NAME' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'account_id', 'id', false,'{/literal}{sugar_translate label='LBL_ACCOUNT_ID' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'campaign_id', 'id', false,'{/literal}{sugar_translate label='LBL_CAMPAIGN_ID' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'campaign_name', 'relate', false,'{/literal}{sugar_translate label='LBL_CAMPAIGN' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'lead_source', 'enum', false,'{/literal}{sugar_translate label='LBL_LEAD_SOURCE' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'amount', 'currency', true,'{/literal}{sugar_translate label='LBL_AMOUNT' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'month_sales', 'currency', true,'{/literal}{sugar_translate label='Month Sales' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'amount_usdollar', 'currency', false,'{/literal}{sugar_translate label='LBL_AMOUNT_USDOLLAR' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'currency_id', 'id', false,'{/literal}{sugar_translate label='LBL_CURRENCY_ID' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'currency_name', 'relate', false,'{/literal}{sugar_translate label='LBL_CURRENCY_NAME' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'currency_symbol', 'relate', false,'{/literal}{sugar_translate label='LBL_CURRENCY_SYMBOL' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'date_closed', 'date', true,'{/literal}{sugar_translate label='LBL_DATE_CLOSED' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'next_step', 'varchar', false,'{/literal}{sugar_translate label='LBL_NEXT_STEP' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'sales_stage', 'enum', true,'{/literal}{sugar_translate label='LBL_SALES_STAGE' module='Opportunities'}{literal}' );
                    addToValidateRange('EditView', 'probability', 'int', false,'{/literal}{sugar_translate label='LBL_PROBABILITY' module='Opportunities'}{literal}', 0, 100 );
                    addToValidate('EditView', 'gp_dollar', 'int', false,'{/literal}{sugar_translate label='LBL_GP_DOLLAR' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'product_line', 'int', false,'{/literal}{sugar_translate label='LBL_PRODUCT_LINE' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'gp_perc', 'int', true,'{/literal}{sugar_translate label='LBL_GP_PERC' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'month_gp_perc', 'int', true,'{/literal}{sugar_translate label='Month GP%' module='Opportunities'}{literal}' );
                    addToValidate('EditView', 'opupdate_c', 'text', false,'{/literal}{sugar_translate label='LBL_OPUPDATE' module='Opportunities'}{literal}' );
                    addToValidateBinaryDependency('EditView', 'assigned_user_name', 'alpha', false,'{/literal}{sugar_translate label='ERR_SQS_NO_MATCH_FIELD' module='Opportunities'}{literal}{/literal}{sugar_translate label='LBL_ASSIGNED_TO' module='Opportunities'}{literal}', 'assigned_user_id' );
                    addToValidateBinaryDependency('EditView', 'account_name', 'alpha', true,'{/literal}{sugar_translate label='ERR_SQS_NO_MATCH_FIELD' module='Opportunities'}{literal}{/literal}{sugar_translate label='LBL_ACCOUNT_NAME' module='Opportunities'}{literal}', 'account_id' );
                </script>
                {/literal}

                {$quicksearch_js}
